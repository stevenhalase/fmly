(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"0a49":function(t,e,s){var n=s("9b43"),a=s("626a"),i=s("4bf8"),o=s("9def"),r=s("cd1c");t.exports=function(t,e){var s=1==t,c=2==t,u=3==t,m=4==t,d=6==t,l=5==t||d,f=e||r;return function(e,r,p){for(var v,h,g=i(e),b=a(g),y=n(r,p,3),_=o(b.length),C=0,k=s?f(e,_):c?f(e,0):void 0;_>C;C++)if((l||C in b)&&(v=b[C],h=y(v,C,g),t))if(s)k[C]=h;else if(h)switch(t){case 3:return!0;case 5:return v;case 6:return C;case 2:k.push(v)}else if(m)return!1;return d?-1:u||m?m:k}}},1169:function(t,e,s){var n=s("2d95");t.exports=Array.isArray||function(t){return"Array"==n(t)}},"141e":function(t,e,s){},"16c2":function(t,e,s){},1780:function(t,e,s){},"27a8":function(t,e,s){},"2dac":function(t,e,s){},"2f21":function(t,e,s){"use strict";var n=s("79e5");t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},"353a":function(t,e,s){},"55dd":function(t,e,s){"use strict";var n=s("5ca1"),a=s("d8e8"),i=s("4bf8"),o=s("79e5"),r=[].sort,c=[1,2,3];n(n.P+n.F*(o(function(){c.sort(void 0)})||!o(function(){c.sort(null)})||!s("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(i(this)):r.call(i(this),a(t))}})},"5a1d":function(t,e,s){"use strict";var n=s("2dac"),a=s.n(n);a.a},"68eb":function(t,e,s){},"70d7":function(t,e,s){"use strict";var n=s("68eb"),a=s.n(n);a.a},7277:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashboard"},[s("Button",{staticClass:"dashboard-logout-button",attrs:{text:"LOGOUT",block:!0},nativeOn:{click:function(e){return t.logout(e)}}}),s("PostEntry"),s("Feed")],1)},a=[],i=(s("cadf"),s("551c"),s("097d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post-entry"},[s("div",{staticClass:"post-entry-user"},[s("Avatar",{attrs:{imgSrc:t.userData.avatar,size:"small"}})],1),s("div",{staticClass:"post-entry-content"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post.message,expression:"post.message"}],staticClass:"post-entry-message",attrs:{placeholder:"Enter a message..."},domProps:{value:t.post.message},on:{input:function(e){e.target.composing||t.$set(t.post,"message",e.target.value)}}}),s("Button",{attrs:{text:"POST",block:!0},nativeOn:{click:function(e){return t.submitPost(e)}}})],1)])}),o=[],r=s("c93e"),c=s("2f62"),u=s("9db2"),m=s("8bd7"),d={name:"post-entry",data:function(){return{post:{}}},computed:Object(r["a"])({},Object(c["b"])({userData:function(t){return t.userData}}),{validPost:function(){return this.post.message&&this.post.message.length>0}}),methods:{submitPost:function(t){var e=this;if(this.validPost){this.post.date=(new Date).getTime();var s=JSON.parse(JSON.stringify(this.post));this.$store.dispatch("addPost",s).then(function(t){e.resetPost()})}},resetPost:function(){this.post.date=null,this.post.message=""}},mounted:function(){this.post.user=this.userData._id},components:{Avatar:u["a"],Button:m["a"]}},l=d,f=(s("cfcd"),s("2877")),p=Object(f["a"])(l,i,o,!1,null,"1b780a2b",null);p.options.__file="PostEntry.vue";var v=p.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"feed"},t._l(t.sortedPosts,function(e,n){return s("FeedItem",{key:n,attrs:{item:e,postLikedByUser:t.postLikedByUser(e)}})}))},g=[],b=(s("7514"),s("55dd"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"feed-item",class:t.isMyPost?"":"my"},[s("div",{staticClass:"feed-item-content"},[s("div",{staticClass:"feed-item-content-container"},[s("div",{staticClass:"feed-item-content-container-title"},[s("p",[t._v(t._s(t.item.message))]),s("Badge",[s("timeago",{attrs:{datetime:t.item.date}})],1)],1)]),t.item.image?s("ResponsiveImage",{attrs:{imgSrc:t.item.image,width:"100%",height:"300px",innerShadow:""}}):t._e()],1),s("div",{staticClass:"feed-item-actions"},[s("Fab",{staticClass:"feed-item-action",attrs:{icon:"regular/comment"},nativeOn:{click:function(e){t.toggleComments(!0)}}}),s("Fab",{staticClass:"feed-item-action",attrs:{icon:t.postLikedByUser?"heart":"regular/heart",disabled:t.postLikedByUser},nativeOn:{click:function(e){return t.addLike(e)}}}),s("Avatar",{staticClass:"feed-item-avatar",attrs:{imgSrc:t.item.user.avatar,size:"small"}})],1),s("Modal",{attrs:{open:t.showComments},on:{"close-modal":function(e){t.toggleComments(!1)}}},[s("CommentEntry",{attrs:{postId:t.item._id}}),s("FeedItemComments",{attrs:{postId:t.item._id,comments:t.item.comments}})],1)],1)}),y=[],_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment-entry"},[s("Avatar",{staticClass:"comment-entry-avatar",attrs:{imgSrc:t.userData.avatar,size:"small"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.comment.message,expression:"comment.message"}],staticClass:"comment-entry-input",attrs:{placeholder:"Enter a comment..."},domProps:{value:t.comment.message},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submitComment(e):null},input:function(e){e.target.composing||t.$set(t.comment,"message",e.target.value)}}}),s("Button",{staticClass:"comment-entry-submit",attrs:{text:"POST",block:!0,size:"small"},nativeOn:{click:function(e){return t.submitComment(e)}}})],1)},C=[],k={name:"comment-entry",data:function(){return{comment:{}}},props:{postId:{type:String,required:!0}},computed:Object(r["a"])({},Object(c["b"])({userData:function(t){return t.userData}})),methods:{validComment:function(){return this.comment.message&&this.comment.message.length>0},submitComment:function(t){var e=this;if(this.validComment()){this.comment.date=(new Date).getTime();var s=JSON.parse(JSON.stringify(this.comment));this.$store.dispatch("addComment",s).then(function(t){e.resetComment()})}},resetComment:function(){this.comment.date=null,this.comment.message=""}},mounted:function(){this.comment.post=this.postId,this.comment.user=this.userData._id},components:{Avatar:u["a"],Button:m["a"]}},O=k,S=(s("a97e"),Object(f["a"])(O,_,C,!1,null,"5880e4a2",null));S.options.__file="CommentEntry.vue";var w=S.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"feed-item-comments"},[s("div",{staticClass:"feed-item-comments-container"},t._l(t.sortedComments,function(e,n){return s("div",{key:n,staticClass:"feed-item-comment"},[s("div",{staticClass:"feed-item-comment-side"},[s("Avatar",{attrs:{imgSrc:e.user.avatar,size:"small"}})],1),s("div",{staticClass:"feed-item-comment-content"},[s("p",[t._v(t._s(e.message))])]),s("div",{staticClass:"feed-item-comment-actions"},[s("Fab",{staticClass:"feed-item-comment-action",attrs:{icon:t.commentLikedByUser(e)?"heart":"regular/heart",disabled:t.commentLikedByUser(e),size:"small"},nativeOn:{click:function(s){t.likeComment(e)}}}),s("Badge",{staticClass:"feed-item-comment-actions-time",attrs:{size:"small"}},[s("timeago",{attrs:{datetime:e.date}})],1)],1)])}))])},B=[],D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.classes},[t._t("default")],2)},j=[],P={name:"badge",props:{size:{type:String}},computed:{classes:function(){var t="badge";return t+=this.size?" ".concat(this.size):"",t}}},$=P,E=(s("d355"),Object(f["a"])($,D,j,!1,null,"43a779d9",null));E.options.__file="Badge.vue";var A=E.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.classes},[s("v-icon",{attrs:{name:t.icon}})],1)},I=[],L={name:"fab",props:{icon:{type:String,required:!0},disabled:{type:Boolean},size:{type:String}},computed:{classes:function(){var t="fab";return t+=this.disabled?" disabled":"",t+=this.size?" ".concat(this.size):"",t}}},z=L,U=(s("9c59"),Object(f["a"])(z,F,I,!1,null,"6fad43e0",null));U.options.__file="Fab.vue";var q=U.exports,N={name:"feed-item-comments",props:{postId:{type:String,required:!0},comments:{type:Array,required:!0}},computed:Object(r["a"])({},Object(c["b"])({userData:function(t){return t.userData}}),{sortedComments:function(){return this.comments.sort(function(t,e){return e.date-t.date})}}),methods:{likeComment:function(t){var e={date:(new Date).getTime(),user:this.userData._id,comment:t._id};this.$store.dispatch("addLike",e)},commentLikedByUser:function(t){var e=this;return void 0!==t.likes.find(function(t){return t.user===e.userData._id})}},components:{Avatar:u["a"],Badge:A,Fab:q}},M=N,T=(s("70d7"),Object(f["a"])(M,x,B,!1,null,"59bf0b14",null));T.options.__file="FeedItemComments.vue";var J=T.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.classes,style:t.styles},[s("div",{class:t.imgClasses,style:t.bgImg})])},G=[],H={name:"responsive-image",props:{imgSrc:{type:String,required:!0},width:{type:String},height:{type:String},innerShadow:{type:Boolean}},computed:{classes:function(){var t="responsive-image";return t},imgClasses:function(){var t="responsive-image-image";return t+=this.innerShadow?" shadow":"",t},styles:function(){return{width:this.width||"640px",height:this.height||"480px"}},bgImg:function(){return{backgroundImage:"url(".concat(this.imgSrc,")")}}}},K=H,Q=(s("5a1d"),Object(f["a"])(K,R,G,!1,null,"0dfb711a",null));Q.options.__file="ResponsiveImage.vue";var V=Q.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.classes},[s("div",{staticClass:"modal-backdrop",on:{click:t.closeModal}}),s("div",{staticClass:"modal-container"},[t._t("default")],2)])},X=[],Y={name:"modal",props:{open:{type:Boolean,required:!0}},computed:{classes:function(){var t="modal";return t+=this.open?" open":"",t}},methods:{closeModal:function(){this.$emit("close-modal")},toggleNoScroll:function(t){var e=document.querySelector("body");t?e.classList.add("noscroll"):e.classList.remove("noscroll")}},updated:function(){this.open?this.toggleNoScroll(!0):this.toggleNoScroll(!1)}},Z=Y,tt=(s("c7b4"),Object(f["a"])(Z,W,X,!1,null,"227c3184",null));tt.options.__file="Modal.vue";var et=tt.exports,st={name:"feed-item",data:function(){return{showComments:!1}},props:{item:{type:Object,required:!0},postLikedByUser:{type:Boolean,required:!0}},computed:Object(r["a"])({},Object(c["b"])({userData:function(t){return t.userData}}),{isMyPost:function(){return this.item.user._id===this.userData._id}}),methods:{addLike:function(){var t={post:this.item._id,date:(new Date).getTime(),user:this.userData};this.$store.dispatch("addLike",t)},toggleComments:function(t){this.showComments=t}},components:{CommentEntry:w,FeedItemComments:J,Avatar:u["a"],ResponsiveImage:V,Badge:A,Fab:q,Modal:et}},nt=st,at=(s("d5e0"),Object(f["a"])(nt,b,y,!1,null,"274600ab",null));at.options.__file="FeedItem.vue";var it=at.exports,ot={name:"feed",computed:Object(r["a"])({},Object(c["b"])({userData:function(t){return t.userData},posts:function(t){return t.posts}}),{sortedPosts:function(){return this.posts.sort(function(t,e){return e.date-t.date})}}),methods:{postLikedByUser:function(t){var e=this;return!!t.likes&&void 0!==t.likes.find(function(t){return t.user===e.userData._id})}},beforeMount:function(){this.$store.dispatch("getPosts")},components:{FeedItem:it}},rt=ot,ct=(s("72e3"),Object(f["a"])(rt,h,g,!1,null,"a492a162",null));ct.options.__file="Feed.vue";var ut=ct.exports,mt={name:"dashboard",methods:{logout:function(){var t=this;this.$store.dispatch("logout").then(function(e){t.$router.push({name:"auth"})})}},components:{PostEntry:v,Feed:ut,Button:m["a"]}},dt=mt,lt=(s("9a91"),Object(f["a"])(dt,n,a,!1,null,"53fe8bb8",null));lt.options.__file="Dashboard.vue";e["default"]=lt.exports},"72e3":function(t,e,s){"use strict";var n=s("1780"),a=s.n(n);a.a},7514:function(t,e,s){"use strict";var n=s("5ca1"),a=s("0a49")(5),i="find",o=!0;i in[]&&Array(1)[i](function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(i)},"9a91":function(t,e,s){"use strict";var n=s("cc0c"),a=s.n(n);a.a},"9c4f":function(t,e,s){},"9c59":function(t,e,s){"use strict";var n=s("f4f1"),a=s.n(n);a.a},a97e:function(t,e,s){"use strict";var n=s("141e"),a=s.n(n);a.a},c7b4:function(t,e,s){"use strict";var n=s("9c4f"),a=s.n(n);a.a},cc0c:function(t,e,s){},cd1c:function(t,e,s){var n=s("e853");t.exports=function(t,e){return new(n(t))(e)}},cfcd:function(t,e,s){"use strict";var n=s("16c2"),a=s.n(n);a.a},d355:function(t,e,s){"use strict";var n=s("353a"),a=s.n(n);a.a},d5e0:function(t,e,s){"use strict";var n=s("27a8"),a=s.n(n);a.a},e853:function(t,e,s){var n=s("d3f4"),a=s("1169"),i=s("2b4c")("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),n(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},f4f1:function(t,e,s){}}]);
//# sourceMappingURL=dashboard.1774a700.js.map